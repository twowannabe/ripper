# Telegram Message Deletion Script

## Описание

Этот скрипт написан на Python с использованием библиотеки [Telethon](https://github.com/LonamiWebs/Telethon) и предназначен для удаления всех сообщений пользователя из указанных чатов в Telegram. Скрипт поддерживает обработку нескольких чатов и умеет управлять частотой запросов с учетом ограничений Telegram API (например, ожидание при превышении лимитов запросов).

## Требования

- Python 3.7 или выше
- Установленные библиотеки из `requirements.txt`:
  - `telethon`
  - `python-decouple`

## Установка

1. Клонируйте этот репозиторий или скачайте файлы:
    ```bash
    git clone https://github.com/twowannabe/ripper.git
    ```

2. Установите зависимости, используя pip:
    ```bash
    pip install -r requirements.txt
    ```

3. Создайте файл `.env` в корне проекта с указанием следующих переменных:
    ```bash
    API_ID=your_api_id
    API_HASH=your_api_hash
    PHONE_NUMBER=your_phone_number
    CHAT_IDS=comma_separated_chat_ids
    ```
    - `API_ID` и `API_HASH` можно получить, зарегистрировав новое приложение на [my.telegram.org](https://my.telegram.org/auth).
    - `PHONE_NUMBER` — ваш номер телефона в формате `+<код страны><номер>`.
    - `CHAT_IDS` — список ID чатов через запятую, в которых необходимо удалить сообщения.

## Использование

1. Запустите скрипт:
    ```bash
    python delete_messages.py
    ```

2. Скрипт начнет удалять сообщения из всех чатов, указанных в `CHAT_IDS`. Если в чате превышены лимиты запросов, скрипт автоматически подождет необходимое время и продолжит работу.

## Логика работы

- Скрипт проверяет доступность чатов и обрабатывает их по очереди.
- Удаляет все сообщения, отправленные текущим пользователем в чате.
- Поддерживается пакетное удаление сообщений — каждые 100 сообщений удаляются одновременно.
- Если достигается лимит запросов, скрипт ожидает указанное время, чтобы избежать временной блокировки.
- Задержка между удалениями сообщений динамически корректируется: уменьшается при отсутствии ошибок и увеличивается при их появлении.

## Обработка ошибок

Скрипт обрабатывает следующие исключения:

- `FloodWaitError`: Превышен лимит запросов к API. Скрипт ждет указанное API время перед повторной попыткой.
- `ChatAdminRequiredError`: Отсутствие прав администратора в чате.
- `ChannelPrivateError`: Чат является приватным и доступ к нему ограничен.

## Лицензия

Этот проект распространяется под лицензией MIT. Для получения подробной информации ознакомьтесь с файлом `LICENSE`.
